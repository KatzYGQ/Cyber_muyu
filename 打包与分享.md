# 赛博木鱼 — 打包与分享给别人用

## 一、先在本机「打包」

**打包**就是把项目变成可运行的、优化过的版本（生成在 `.next` 文件夹里）。

1. 在项目目录打开终端，执行：
   ```bash
   npm run build
   ```
2. 等跑完，看到 `Compiled successfully` 或类似提示即表示打包成功。

---

## 二、给别人用的两种常见方式

### 方式 A：发网址（推荐 — 别人点开就能用）

把项目**部署到网上**，得到一个网址，别人用浏览器打开即可，无需安装任何东西。

**常用平台：**

| 平台 | 说明 |
|------|------|
| **Vercel** | 和 Next.js 同一家，免费、简单。把项目连到 GitHub 后，在 Vercel 里导入项目即可自动部署。需在 Vercel 里配置 `NEXT_PUBLIC_SUPABASE_URL` 和 `SUPABASE_SERVICE_ROLE_KEY`（环境变量）。 |
| **Netlify** | 类似，支持 Next.js，也是连 GitHub 部署，同样在后台填环境变量。 |
| **Railway / Render** | 适合需要「一直跑着」的 Node 应用，同样在后台填环境变量。 |

**要点：**  
部署时一定要在平台里设置**环境变量**（和你在 `.env.local` 里填的那两个一样），否则「全球累计功德」不会存到数据库。

---

### 方式 B：把整个项目文件夹给别人，让对方自己运行

对方需要：已安装 **Node.js**（建议 18 及以上）。

**你可以这样做：**

1. 打包（见上一节）：
   ```bash
   npm run build
   ```
2. 把整个项目文件夹（包含 `node_modules` 和 `.next`）打成压缩包发给他；  
   **或者** 只发源码（不含 `node_modules`、不含 `.next`），让对方自己执行下面步骤。
3. 给对方一份**简单说明**，让他：
   - 解压后进入项目目录；
   - 若没有 `node_modules`，先执行：`npm install`；
   - 若没有 `.next`，执行：`npm run build`；
   - 若要用数据库：在项目里新建 `.env.local`，填上 `NEXT_PUBLIC_SUPABASE_URL` 和 `SUPABASE_SERVICE_ROLE_KEY`（你可以把你自己的值发给他，这样大家共用一个「全球累计功德」）；
   - 运行：`npm run start`；
   - 浏览器打开：`http://localhost:3000`。

**发给对方时建议包含/说明：**

- 是否包含 `node_modules`（包含则包会很大；不包含则对方必须自己 `npm install`）；
- 是否需要配置 `.env.local`（不配置也能玩，但数字不会存库）；
- 运行命令：`npm run start`，访问 `http://localhost:3000`。

---

## 三、常用命令小结

| 命令 | 作用 |
|------|------|
| `npm run build` | 打包，生成生产环境用的版本（.next） |
| `npm run start` | 运行**已打包**的项目（需先执行过 `npm run build`） |
| `npm run dev` | 开发模式，边改边看（不打包也能用） |

---

## 四、若部署到 Vercel（快速步骤）

1. 把项目推到 **GitHub**（不要提交 `.env.local`，避免密钥泄露）。
2. 打开 [vercel.com](https://vercel.com)，用 GitHub 登录，点「Add New Project」，选你这个仓库。
3. 在「Environment Variables」里添加：
   - `NEXT_PUBLIC_SUPABASE_URL`
   - `SUPABASE_SERVICE_ROLE_KEY`
4. 部署完成后会得到一个网址，把这个网址发给别人即可使用。

如果你说一下打算用哪种方式（发链接 / 发文件夹 / 具体平台），可以再按那种方式写更细的步骤。
